<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Functions used in predicting portal rodent dynamics • portalcasting</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Functions used in predicting portal rodent dynamics">
<meta property="og:description" content="This package includes functions used in the modeling and 
  forecasting of Portal data.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">portalcasting</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
<div id="portalcasting-the-support-package-for-portal-predictions" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#portalcasting-the-support-package-for-portal-predictions" class="anchor"></a>portalcasting: the support package for <a href="https://github.com/weecology/portalPredictions">Portal Predictions</a>
</h1></div>

<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>The <code>portalcasting</code> package contains the functions used for Continuous Forecasting of Rodent Populations (Portal Predictions: <a href="https://github.com/weecology/portalPredictions">code repo</a>; <a href="http://portal.naturecast.org/">website</a>).</p>
<p>The repo is currently <strong><em>in development</em></strong> as the functions are migrated over.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the package from github with:</p>
<pre><code><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages("devtools")
devtools::install_github("weecology/portalcasting")</a></code></pre>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>The <code><a href="reference/setup_dir.html">setup_dir()</a></code> function will create and populate a standard portalcasting directory that includes <code>data</code>, <code>models</code>, <code>PortalData</code>, <code>predictions</code> and <code>tmp</code> subdirectories. By default, <code><a href="reference/setup_dir.html">setup_dir()</a></code> downloads the most up-to-date version of the <a href="https://github.com/weecology/PortalData">Portal Data Repository</a> into the <code>PortalData</code> subdirectory, prepares the moons, rodents, covariates, and metadata data files (and places them in the <code>data</code> subdirectory), copies the historic covariate forecast data file available in the package (<code>/inst/extdata/covariate_forecasts.csv</code>) into the <code>data</code> subdirectory, downloads the most recent set of model forecasts into the <code>predictions</code> subdirectory and populates the <code>models</code> subdirectory with scripts for the four existing models (“AutoArima”, “ESSS”, “nbGARCH”, and “pevGARCH”).</p>
<p>The <code><a href="reference/portalcast.html">portalcast()</a></code> function controls the running of potentially multiple models for either a forecast or a hindcast. It will prepare the data (rodents, covariates, model metadata) as needed, verify that the requested models are available to run, run the models, compile the output, and generate an ensemble (if desired).</p>
<p>All required inputs to both <code><a href="reference/setup_dir.html">setup_dir()</a></code> and <code><a href="reference/portalcast.html">portalcast()</a></code> are encompassed within the singular argument <code>options_all</code>, which is a hierarchical list of options settings, defined through the options-settting function <code>all_options</code> and the default values are appropriate for basic forecast usage:</p>
<pre><code><a href="reference/setup_dir.html">setup_dir()
portalcast()</a></code></pre>
<p>There are many options available for the user to control, and a full list can be found by running <code><a href="reference/all_options.html">?all_options</a></code>, to return the help file for the function that generates the hierarchical options list.</p>
</div>
<div id="options-list" class="section level2">
<h2 class="hasAnchor">
<a href="#options-list" class="anchor"></a>Options List</h2>
<p>The options list is a hierarchical list containing a suite of inter-linked options controlling the structure, content, and usage of the directory.</p>
<ul>
<li>
<code>options_all</code>: created by <code>all_options</code>
<ul>
<li>
<code>options_dir</code>: created by <code>dir_options</code>
</li>
<li>
<code>options_data</code>: created by <code>data_options</code>
<ul>
<li>
<code>moons</code>: created by <code>moons_options</code>
</li>
<li>
<code>rodents</code>: created by <code>rodents_options</code>
</li>
<li>
<code>covariates</code>: created by <code>covariates_options</code>
</li>
<li>
<code>metadata</code>: created by <code>metadata_options</code>
</li>
<li>additionally includes <code>cast_type</code>, <code>quiet</code>, and <code>tree</code> options</li>
</ul>
</li>
<li>
<code>options_predictions</code>: created by <code>predictions_options</code>
</li>
<li>
<code>options_models</code>: created by <code>models_options</code>
</li>
<li>
<code>options_casts</code>: created by <code>casts_options</code>
</li>
</ul>
</li>
</ul>
</div>
<div id="directory-tree" class="section level2">
<h2 class="hasAnchor">
<a href="#directory-tree" class="anchor"></a>Directory Tree</h2>
<p>The package uses a simple directory tree to organize the project. There are three levels to the hierarchy:</p>
<ul>
<li>
<code>base</code>: existing folder where the project folder will be housed
<ul>
<li>
<code>main</code>: project folder encompassing all subfolders
<ul>
<li>
<code>subs</code>: specific sub-folders for the project</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The tree is housed in a simple list, created by the <code>dirtree</code> function, which allows for the renaming of all levels, although it is only advisable to alter the <code>base</code> or <code>main</code> levels, as many functions require specifically-named subdirectories.</p>
</div>
<div id="function-tree" class="section level2">
<h2 class="hasAnchor">
<a href="#function-tree" class="anchor"></a>Function Tree</h2>
<p>The package organizes the main actions into hierarchical functions</p>
<ul>
<li>
<code>setup_dir</code>
<ul>
<li>
<code>create_dir</code>
<ul>
<li><code>create_main_dir</code></li>
<li>
<code>create_sub_dirs</code>
<ul>
<li><code>create_sub_dir</code></li>
</ul>
</li>
</ul>
</li>
<li>
<code>fill_dir</code>
<ul>
<li>
<code>fill_PortalData</code>
<ul>
<li><code>download_observations</code></li>
</ul>
</li>
<li>
<code>fill_data</code>
<ul>
<li><code>transfer_hist_covariate_forecasts</code></li>
<li><code>transfer_trapping_table</code></li>
<li><code>prep_moons</code></li>
<li><code>prep_rodents</code></li>
<li><code>prep_covariates</code></li>
<li><code>prep_metadata</code></li>
</ul>
</li>
<li><code>fill predictions</code></li>
<li>
<code>fill_models</code>
<ul>
<li><code>write_model</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<code>portalcast</code>
<ul>
<li><code>clear_tmp</code></li>
<li><code>verify_models</code></li>
<li><code>prep_data</code></li>
<li>
<code>casts</code>
<ul>
<li>
<code>cast</code>
<ul>
<li><code>check_to_skip</code></li>
<li><code>cast_models</code></li>
<li>
<code>combine_forecasts</code><br>
</li>
<li><code>add_ensemble</code></li>
<li><code>clear_tmp</code></li>
<li>
<code>step_casts</code>
<ul>
<li><code>step_hind_forward</code></li>
<li>
<code>update_data</code>
<ul>
<li><code>prep_moons</code></li>
<li><code>update_rodents</code></li>
<li><code>update_covariates</code></li>
<li><code>prep_metadata</code></li>
</ul>
</li>
<li>
<code>cast</code>
<ul>
<li><code>check_to_skip</code></li>
<li><code>cast_models</code></li>
<li>
<code>combine_forecasts</code><br>
</li>
<li><code>add_ensemble</code></li>
<li><code>clear_tmp</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Juniper L. Simonis <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-9798-0460" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li>Shawn D. Taylor <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-6178-6903" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li>Glenda M. Yenni <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-6969-1848" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li>Ethan P. Ethan <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-6728-7745" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li>S.K. Morgan Ernest <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-6026-8530" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/weecology/portalcasting"><img src="https://travis-ci.org/weecology/portalcasting.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://raw.githubusercontent.com/weecology/portalPredictions/master/LICENSE"><img src="http://img.shields.io/badge/license-MIT-blue.svg" alt="License"></a></li>
</ul>
</div>
</div>
</div>

      <footer><div class="copyright">
  <p>Developed by Juniper L. Simonis, Shawn D. Taylor, Glenda M. Yenni, Ethan P. Ethan, S.K. Morgan Ernest.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
